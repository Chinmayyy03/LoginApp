<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ReconciliationDifferenceReport" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="33a5b9c2-0d2c-4f74-a85c-8466153598bd">
	<property name="ireport.zoom" value="2.1435888100000016"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="182"/>
	<parameter name="as_on_date" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="branch_code" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="user_id" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["./"]]></defaultValueExpression>
	</parameter>
	<parameter name="report_title" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT BRANCH_CODE, FN_GET_BR_NAME(BRANCH_CODE)BR_NAME, BAL HO_BAL_ATBRANCH,
			 B.LEDGERBALANCE BRANCH_BAL_ATHO, BAL+B.LEDGERBALANCE DIFF FROM(
			 (SELECT BRANCH_CODE,SUM(OPENINGBALANCE-DEBITCASH-DEBITTRANSFER-DEBITCLEARING+CREDITCASH+CREDITTRANSFER+CREDITCLEARING)BAL
			 FROM BALANCE.BRANCHGLHISTORY
			 WHERE TXN_DATE = $P{as_on_date}
			 AND GLACCOUNT_CODE = '00000000321200' AND BRANCH_CODE <> $P{branch_code}
			 GROUP BY BRANCH_CODE) A FULL OUTER JOIN
			 (SELECT SUBSTR(ACCOUNT_CODE,11,4)BRANCH,
			 SYSTEM.FN_GET_BALANCE_ASON('29mar2025', ACCOUNT_CODE)LEDGERBALANCE
			 FROM BALANCE.ACCOUNT WHERE ACCOUNT_CODE LIKE '0001151%') B
			 ON A.BRANCH_CODE = B.BRANCH)
			 WHERE BRANCH_CODE IS NOT NULL
			 ORDER BY 1]]>
	</queryString>
	<field name="BRANCH_CODE" class="java.lang.String"/>
	<field name="BR_NAME" class="java.lang.String"/>
	<field name="HO_BAL_ATBRANCH" class="java.math.BigDecimal"/>
	<field name="BRANCH_BAL_ATHO" class="java.math.BigDecimal"/>
	<field name="DIFF" class="java.math.BigDecimal"/>
	<variable name="HO-Balance" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{HO_BAL_ATBRANCH}]]></variableExpression>
	</variable>
	<variable name="Branch Balance" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{BRANCH_BAL_ATHO}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="53" splitType="Stretch">
			<subreport>
				<reportElement x="2" y="0" width="553" height="52" uuid="4a0ab648-6f5c-4e77-885c-f6dd4ff02490"/>
				<subreportParameter name="as_on_date">
					<subreportParameterExpression><![CDATA[$P{as_on_date}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="branch_code">
					<subreportParameterExpression><![CDATA[$P{branch_code}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="report_title">
					<subreportParameterExpression><![CDATA[$P{report_title}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "subReportHeader.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<columnHeader>
		<band height="41" splitType="Stretch">
			<line>
				<reportElement x="0" y="0" width="555" height="1" uuid="16dffcdd-e946-4a77-8b40-a568f64da0d5"/>
			</line>
			<line>
				<reportElement x="0" y="40" width="555" height="1" uuid="6e637166-de2a-4e65-b9fa-4618a49bb9b9"/>
			</line>
			<line>
				<reportElement x="73" y="1" width="1" height="40" uuid="c59b8d1f-0649-4d66-a7ac-ec4f4002a758"/>
			</line>
			<line>
				<reportElement x="443" y="-1" width="1" height="40" uuid="9fa2d916-9b0a-4e18-81f9-922cc1e48085"/>
			</line>
			<line>
				<reportElement x="193" y="1" width="1" height="40" uuid="351faeff-acb9-4c2e-bd90-599032c6f5a9"/>
			</line>
			<line>
				<reportElement x="309" y="-1" width="1" height="40" uuid="5fafab5b-c066-48cc-a508-544faa4190ee"/>
			</line>
			<staticText>
				<reportElement x="0" y="3" width="74" height="38" uuid="f9f5a93f-3c87-48e4-ac42-8fb31560993a"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Branch Code]]></text>
			</staticText>
			<staticText>
				<reportElement x="74" y="1" width="120" height="38" uuid="23474e3b-f7be-49a9-ba3a-63b3d1e2c35f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true" isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[ Branch Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="194" y="1" width="115" height="38" uuid="fdb3e946-1341-40dd-9bc0-216abf518422"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[ Ho-Balance at Branch ]]></text>
			</staticText>
			<staticText>
				<reportElement x="310" y="1" width="133" height="40" uuid="c6f2335c-a20e-4146-89f0-604c2d908a56"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true" isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[Branch Bal At Ho]]></text>
			</staticText>
			<staticText>
				<reportElement x="444" y="1" width="112" height="38" uuid="4b30e264-3303-4b71-9927-912983066623"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Difference]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="1" width="1" height="40" uuid="f7d72ddb-cf96-44c8-a500-d7c42ec6a4cd"/>
			</line>
			<line>
				<reportElement x="554" y="-1" width="1" height="40" uuid="2f115748-913f-41fd-b631-c3c01d87df6e"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="27" splitType="Stretch">
			<textField>
				<reportElement x="2" y="0" width="73" height="20" uuid="0fb0bf76-876c-4e89-8c24-3a4eda3eb3eb"/>
				<textFieldExpression><![CDATA[$F{BRANCH_CODE}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="74" y="0" width="119" height="20" uuid="15a98b8f-b3b6-4ecd-88dd-db1a38eaa1a4"/>
				<textFieldExpression><![CDATA[$F{BR_NAME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="192" y="0" width="115" height="20" uuid="b9b2bb63-57cf-4006-88e5-54fa83a65ef9"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{HO_BAL_ATBRANCH}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="310" y="0" width="133" height="20" uuid="e8bcf77e-daa2-4897-af38-4ee10e609a7f"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{BRANCH_BAL_ATHO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="443" y="0" width="113" height="20" uuid="bc4dfd6d-c336-444c-82ca-f4d01fefa0c5"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{DIFF}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="42">
			<textField>
				<reportElement x="459" y="20" width="67" height="20" uuid="8d014d23-3aa3-4e9e-92b5-1d56f1c9a75c"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="526" y="20" width="29" height="20" uuid="328ec9b0-094b-4699-9cc8-8af60c61efce"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="20" width="50" height="20" uuid="dcd79821-6034-4ae2-8f37-6c513750f7dc"/>
				<textFieldExpression><![CDATA[$P{user_id}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy h.mm a">
				<reportElement x="48" y="21" width="101" height="18" uuid="08aed244-cd28-4753-ae2f-480d801af2b9"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="142" splitType="Stretch">
			<textField pattern="#,##0.00">
				<reportElement x="194" y="5" width="115" height="20" uuid="86f81e42-fc48-4410-bc17-2485793941eb"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$V{HO-Balance}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="310" y="5" width="133" height="20" uuid="b569aa96-0f8b-4f5b-b34e-340178a5b0e7"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$V{Branch Balance}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="74" y="5" width="119" height="20" uuid="db39ca40-b3f3-4b67-8c25-9b7a13f02f0a"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total :]]></text>
			</staticText>
			<line>
				<reportElement x="1" y="2" width="555" height="1" uuid="53c21a29-945a-4712-ac55-febf0660ac17"/>
			</line>
			<textField>
				<reportElement x="432" y="122" width="80" height="20" uuid="26c35712-a873-4e58-96e3-26247648f94f"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="513" y="122" width="40" height="20" uuid="7949b3ce-94a0-46af-9670-3b7132fc7860"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="2" y="45" width="551" height="52" uuid="28707913-fa4b-40fa-b2da-84a25a6cf732"/>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "A4_clerk-manager.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
